import type { FC } from 'react'
import { Link } from 'react-router-dom'
import { useQuery } from '@tanstack/react-query'
import ReactMarkdown from "react-markdown";
import remarkGfm from "remark-gfm";
import rehypeRaw from "rehype-raw";

import { homePageApi } from '@/api/homePage'

import logo from '../../assets/logo-white.png'


export const Footer: FC = () => {
    const { data } = useQuery({
        queryKey: ['home', 'contacts'],
        queryFn: homePageApi.getContacts
    });

    if (!data) {
        return null;
    }

    return (
        <footer className='footer' id='footer'>
            <div className='max-w-[1300px] w-full mx-auto px-[10px] py-[30px]'>
                <div className='flex justify-between pb-[24px]'>
                    <div>
                        <Link to="/">
                            <img src={logo} className='w-[132px]' alt="logotype" />
                        </Link>

                        <h4 className='text-2xl font-semibold text-white pt-[42px] pb-[24px]'>Контакты</h4>

                        <p className='flex items-center gap-x-[8px] pb-[16px]'>
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                                <path fillRule="evenodd" clipRule="evenodd" d="M1.98794 2.55835C2.99483 1.49767 3.35068 1.20018 3.77976 1.06173C4.0767 0.983923 4.38812 0.979603 4.68711 1.04915C5.08071 1.16357 5.18483 1.25052 6.47549 2.53661C7.6094 3.66593 7.72267 3.78836 7.83137 4.00919C8.03922 4.39682 8.07169 4.85474 7.92062 5.26782C7.8062 5.58247 7.64372 5.79071 6.95606 6.48067L6.50753 6.93034C6.38974 7.05004 6.36206 7.23182 6.43888 7.38115C7.4354 9.08127 8.84922 10.499 10.5466 11.5003C10.7419 11.6049 10.9825 11.5711 11.1415 11.4168L11.5729 10.9923C11.8395 10.719 12.1219 10.4615 12.4185 10.2211C12.8843 9.93502 13.4648 9.9095 13.954 10.1536C14.1931 10.268 14.2721 10.3389 15.4415 11.506C16.6474 12.7086 16.6818 12.7463 16.8145 13.0221C17.0643 13.4785 17.0617 14.0314 16.8076 14.4855C16.6783 14.7418 16.5994 14.8345 15.9209 15.5279C15.5112 15.9466 15.1257 16.3288 15.0639 16.3849C14.5041 16.8483 13.786 17.0757 13.0615 17.0188C11.736 16.8979 10.453 16.4883 9.30281 15.8185C6.75483 14.4685 4.58573 12.5016 2.99369 10.0975C2.64693 9.59435 2.33865 9.06575 2.07146 8.5162C1.35472 7.28775 0.984586 5.8879 1.00049 4.46573C1.05521 3.72173 1.41201 3.03252 1.98794 2.55835Z" stroke="white" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                            </svg>

                            <a href={`tel:${data.phone}`} className='text-xl font-semibold text-white'>{data.phone}</a>
                        </p>

                        <p className='flex items-center gap-x-[8px] pb-[16px]'>
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                                <path fillRule="evenodd" clipRule="evenodd" d="M8.99917 16.9999C12.813 17.0001 16.0967 14.3079 16.8441 10.568C17.5915 6.82804 15.5947 3.08059 12.0737 1.61502C8.55262 0.149449 4.4866 1.37339 2.35964 4.53911C0.232686 7.70482 0.636365 11.9318 3.32406 14.6377C4.82567 16.1495 6.86836 16.9998 8.99917 16.9999Z" stroke="white" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                                <path d="M8.89697 5.7583V9.65751H12.6305" stroke="white" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                            </svg>
                            <span className='text-xl font-semibold text-white'>{`Ежедневно с ${data.open_time} до ${data.close_time}`}</span>
                        </p>

                        <p className='flex items-center gap-x-[8px] pb-[16px]'>
                            <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18" fill="none">
                                <path d="M17.2505 5.5627C17.2652 5.97665 17.6127 6.30027 18.0267 6.28553C18.4406 6.27079 18.7643 5.92327 18.7495 5.50932L17.2505 5.5627ZM13.1425 1.00268V1.75268C13.1509 1.75268 13.1592 1.75254 13.1676 1.75226L13.1425 1.00268ZM5.85747 1.00268L5.83241 1.75226C5.84076 1.75254 5.84911 1.75268 5.85747 1.75268V1.00268ZM0.250475 5.50932C0.235735 5.92327 0.559359 6.27079 0.97331 6.28553C1.38726 6.30027 1.73478 5.97665 1.74952 5.5627L0.250475 5.50932ZM18.75 5.53596C18.75 5.12175 18.4142 4.78596 18 4.78596C17.5858 4.78596 17.25 5.12175 17.25 5.53596H18.75ZM18 12.336L18.7495 12.3627C18.7498 12.3538 18.75 12.3449 18.75 12.336H18ZM13.1425 16.8693L13.1676 16.1197C13.1592 16.1194 13.1509 16.1193 13.1425 16.1193V16.8693ZM5.85747 16.8693V16.1193C5.84911 16.1193 5.84076 16.1194 5.83241 16.1197L5.85747 16.8693ZM1 12.336H0.25C0.25 12.3449 0.250158 12.3538 0.250475 12.3627L1 12.336ZM1.75 5.53596C1.75 5.12175 1.41421 4.78596 1 4.78596C0.585786 4.78596 0.25 5.12175 0.25 5.53596H1.75ZM18.3783 6.18356C18.736 5.97463 18.8565 5.51532 18.6476 5.15766C18.4387 4.8 17.9794 4.67943 17.6217 4.88836L18.3783 6.18356ZM12.0341 9.02096L11.6558 8.37333L11.6496 8.37705L12.0341 9.02096ZM6.96587 9.02096L7.35043 8.37702L7.34417 8.37336L6.96587 9.02096ZM1.3783 4.88836C1.02064 4.67943 0.561328 4.8 0.352398 5.15766C0.143468 5.51532 0.264038 5.97463 0.621699 6.18356L1.3783 4.88836ZM18 5.53601L18.7495 5.50932C18.6425 2.50408 16.1229 0.152642 13.1175 0.253094L13.1425 1.00268L13.1676 1.75226C15.3464 1.67944 17.1729 3.38408 17.2505 5.5627L18 5.53601ZM13.1425 1.00268V0.252676H5.85747V1.00268V1.75268H13.1425V1.00268ZM5.85747 1.00268L5.88252 0.253094C2.87705 0.152642 0.357489 2.50408 0.250475 5.50932L1 5.53601L1.74952 5.5627C1.8271 3.38408 3.65363 1.67944 5.83241 1.75226L5.85747 1.00268ZM18 5.53596H17.25V12.336H18H18.75V5.53596H18ZM18 12.336L17.2505 12.3093C17.1729 14.4879 15.3464 16.1925 13.1676 16.1197L13.1425 16.8693L13.1175 17.6189C16.1229 17.7193 18.6425 15.3679 18.7495 12.3627L18 12.336ZM13.1425 16.8693V16.1193H5.85747V16.8693V17.6193H13.1425V16.8693ZM5.85747 16.8693L5.83241 16.1197C3.65363 16.1925 1.8271 14.4879 1.74952 12.3093L1 12.336L0.250475 12.3627C0.357489 15.3679 2.87705 17.7193 5.88252 17.6189L5.85747 16.8693ZM1 12.336H1.75V5.53596H1H0.25V12.336H1ZM18 5.53596L17.6217 4.88836L11.6558 8.37336L12.0341 9.02096L12.4124 9.66856L18.3783 6.18356L18 5.53596ZM12.0341 9.02096L11.6496 8.37705C10.3256 9.16774 8.6744 9.16774 7.35041 8.37705L6.96587 9.02096L6.58132 9.66488C8.37902 10.7385 10.621 10.7385 12.4187 9.66488L12.0341 9.02096ZM6.96587 9.02096L7.34417 8.37336L1.3783 4.88836L1 5.53596L0.621699 6.18356L6.58757 9.66856L6.96587 9.02096Z" fill="white" />
                            </svg>

                            <a href={`mailto:${data.email}`} className='text-xl font-semibold text-white'>{data.email}</a>
                        </p>

                        <div className='flex items-center gap-x-[24px]'>
                            <a href={data.whatsapp} target='_blank'>
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <path d="M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z" fill="#29A71A" />
                                    <path d="M17.2908 6.70914C16.0423 5.44818 14.3843 4.67488 12.6158 4.52872C10.8474 4.38255 9.08493 4.87315 7.64635 5.91202C6.20777 6.95088 5.18778 8.46963 4.77035 10.1943C4.35293 11.919 4.56556 13.7361 5.36988 15.3178L4.58034 19.151C4.57215 19.1891 4.57191 19.2285 4.57966 19.2668C4.5874 19.305 4.60295 19.3413 4.62534 19.3732C4.65813 19.4217 4.70495 19.4591 4.75953 19.4803C4.81411 19.5015 4.87385 19.5055 4.93079 19.4919L8.68761 18.6014C10.2649 19.3854 12.0691 19.5843 13.7793 19.1629C15.4895 18.7414 16.9947 17.7269 18.0271 16.2998C19.0595 14.8727 19.5521 13.1257 19.4173 11.3695C19.2824 9.6133 18.5289 7.96191 17.2908 6.70914ZM16.1194 16.0582C15.2556 16.9196 14.1432 17.4883 12.9391 17.684C11.735 17.8797 10.4998 17.6926 9.40761 17.1491L8.88397 16.89L6.58079 17.4355L6.58761 17.4069L7.06488 15.0887L6.80852 14.5828C6.25047 13.4868 6.0536 12.2423 6.24614 11.0276C6.43867 9.81284 7.01072 8.69021 7.88034 7.8205C8.97303 6.72815 10.4548 6.11451 11.9999 6.11451C13.5449 6.11451 15.0267 6.72815 16.1194 7.8205C16.1287 7.83118 16.1388 7.8412 16.1494 7.8505C17.2286 8.94567 17.831 10.423 17.8254 11.9605C17.8198 13.498 17.2065 14.971 16.1194 16.0582Z" fill="white" />
                                    <path d="M15.9147 14.3577C15.6324 14.8022 15.1865 15.3463 14.626 15.4813C13.6442 15.7186 12.1374 15.4895 10.2624 13.7413L10.2392 13.7209C8.59057 12.1923 8.16239 10.92 8.26603 9.91089C8.3233 9.33816 8.80057 8.81998 9.20285 8.48179C9.26644 8.42752 9.34186 8.38887 9.42307 8.36895C9.50427 8.34903 9.58901 8.34838 9.67051 8.36707C9.75201 8.38575 9.828 8.42325 9.89242 8.47656C9.95683 8.52986 10.0079 8.5975 10.0415 8.67407L10.6483 10.0377C10.6877 10.1261 10.7023 10.2236 10.6906 10.3197C10.6788 10.4158 10.6411 10.5069 10.5815 10.5832L10.2747 10.9813C10.2088 11.0636 10.1691 11.1636 10.1606 11.2686C10.1521 11.3736 10.1752 11.4787 10.2269 11.5704C10.3988 11.8718 10.8106 12.315 11.2674 12.7254C11.7801 13.1891 12.3488 13.6132 12.7088 13.7577C12.8051 13.7971 12.911 13.8067 13.0128 13.7853C13.1147 13.7639 13.2078 13.7125 13.2801 13.6377L13.636 13.2791C13.7047 13.2113 13.7901 13.1631 13.8835 13.1391C13.977 13.1151 14.0751 13.1164 14.1678 13.1427L15.6092 13.5518C15.6887 13.5762 15.7616 13.6184 15.8223 13.6753C15.883 13.7322 15.9298 13.8022 15.9593 13.8799C15.9888 13.9577 16.0001 14.0412 15.9923 14.124C15.9846 14.2068 15.958 14.2867 15.9147 14.3577Z" fill="white" />
                                </svg>
                            </a>

                            <a href={data.instagram} target='_blank'>
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <path d="M1.5002 1.6328C-0.385801 3.5918 0.000199258 5.6728 0.000199258 11.9948C0.000199258 17.2448 -0.915801 22.5078 3.8782 23.7468C5.3752 24.1318 18.6392 24.1318 20.1342 23.7448C22.1302 23.2298 23.7542 21.6108 23.9762 18.7878C24.0072 18.3938 24.0072 5.6028 23.9752 5.2008C23.7392 2.1938 21.8882 0.460802 19.4492 0.109802C18.8902 0.0288023 18.7782 0.00480225 15.9102 -0.000197746C5.7372 0.00480225 3.5072 -0.448198 1.5002 1.6328Z" fill="url(#paint0_linear_407_1934)" />
                                    <path d="M11.9983 3.13892C8.3673 3.13892 4.9193 2.81592 3.6023 6.19592C3.0583 7.59192 3.1373 9.40492 3.1373 12.0009C3.1373 14.2789 3.0643 16.4199 3.6023 17.8049C4.9163 21.1869 8.3923 20.8629 11.9963 20.8629C15.4733 20.8629 19.0583 21.2249 20.3913 17.8049C20.9363 16.3949 20.8563 14.6089 20.8563 12.0009C20.8563 8.53892 21.0473 6.30392 19.3683 4.62592C17.6683 2.92592 15.3693 3.13892 11.9943 3.13892H11.9983ZM11.2043 4.73592C18.7783 4.72392 19.7423 3.88192 19.2103 15.5789C19.0213 19.7159 15.8713 19.2619 11.9993 19.2619C4.9393 19.2619 4.7363 19.0599 4.7363 11.9969C4.7363 4.85192 5.2963 4.73992 11.2043 4.73392V4.73592ZM16.7283 6.20692C16.4464 6.20692 16.176 6.31892 15.9766 6.51827C15.7773 6.71762 15.6653 6.988 15.6653 7.26992C15.6653 7.55185 15.7773 7.82223 15.9766 8.02158C16.176 8.22093 16.4464 8.33292 16.7283 8.33292C17.0102 8.33292 17.2806 8.22093 17.48 8.02158C17.6793 7.82223 17.7913 7.55185 17.7913 7.26992C17.7913 6.988 17.6793 6.71762 17.48 6.51827C17.2806 6.31892 17.0102 6.20692 16.7283 6.20692ZM11.9983 7.44992C11.4007 7.44999 10.809 7.56776 10.2569 7.7965C9.70487 8.02525 9.20327 8.36049 8.78076 8.78309C7.92747 9.63657 7.44817 10.7941 7.4483 12.0009C7.44844 13.2078 7.92799 14.3652 8.78147 15.2185C9.63494 16.0718 10.7924 16.5511 11.9993 16.5509C13.2062 16.5508 14.3636 16.0712 15.2168 15.2178C16.0701 14.3643 16.5494 13.2068 16.5493 11.9999C16.5492 10.7931 16.0696 9.63567 15.2161 8.78238C14.3627 7.92909 13.2052 7.44979 11.9983 7.44992ZM11.9983 9.04692C15.9033 9.04692 15.9083 14.9549 11.9983 14.9549C8.0943 14.9549 8.0883 9.04692 11.9983 9.04692Z" fill="white" />
                                    <defs>
                                        <linearGradient id="paint0_linear_407_1934" x1="1.54622" y1="22.4669" x2="23.8517" y2="3.16178" gradientUnits="userSpaceOnUse">
                                            <stop stopColor="#FFDD55" />
                                            <stop offset="0.5" stopColor="#FF543E" />
                                            <stop offset="1" stopColor="#C837AB" />
                                        </linearGradient>
                                    </defs>
                                </svg>
                            </a>

                            <a href={data.telegram} target='_blank'>
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <path d="M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z" fill="#039BE5" />
                                    <path d="M5.49077 11.7402L17.0608 7.27921C17.5978 7.08521 18.0668 7.41021 17.8928 8.22221L17.8938 8.22121L15.9238 17.5022C15.7778 18.1602 15.3868 18.3202 14.8398 18.0102L11.8398 15.7992L10.3928 17.1932C10.2328 17.3532 10.0978 17.4882 9.78777 17.4882L10.0008 14.4352L15.5608 9.41221C15.8028 9.19921 15.5068 9.07921 15.1878 9.29121L8.31677 13.6172L5.35477 12.6932C4.71177 12.4892 4.69777 12.0502 5.49077 11.7402Z" fill="white" />
                                </svg>
                            </a>
                        </div>
                    </div>
                    <div className='flex gap-x-[60px]'>
                        <div className='flex flex-col'>
                            <h4 className='text-2xl font-semibold text-white pb-[24px]'>Навигация</h4>

                            <Link to="tours" className='text-xl font-semibold text-white pb-[16px]'>Туры</Link>
                            <Link to="about" className='text-xl font-semibold text-white pb-[16px]'>О нас</Link>
                            <Link to="kyrgyzstan" className='text-xl font-semibold text-white pb-[16px]'>Кыргызстан</Link>
                            <Link to="gallery" className='text-xl font-semibold text-white pb-[16px]'>Галерея</Link>
                        </div>

                        <div>
                            <p className='flex items-center gap-x-[8px] text-xl font-semibold text-white pb-[12px]'>
                                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="24" viewBox="0 0 22 24" fill="none">
                                    <path d="M15.0067 15.8571C17.5606 11.8496 17.2395 12.3496 17.3131 12.2451C18.2429 10.9336 18.7344 9.39009 18.7344 7.78125C18.7344 3.51469 15.2721 0 11 0C6.74178 0 3.26562 3.50775 3.26562 7.78125C3.26562 9.38906 3.76737 10.973 4.72766 12.3022L6.99322 15.8572C4.57095 16.2294 0.453125 17.3387 0.453125 19.7812C0.453125 20.6716 1.03428 21.9405 3.80291 22.9293C5.73612 23.6197 8.29208 24 11 24C16.0637 24 21.5469 22.5716 21.5469 19.7812C21.5469 17.3383 17.4339 16.2301 15.0067 15.8571ZM5.9023 11.5287C5.89457 11.5166 5.88649 11.5047 5.87806 11.4931C5.07898 10.3938 4.67188 9.09098 4.67188 7.78125C4.67188 4.26478 7.50341 1.40625 11 1.40625C14.4893 1.40625 17.3281 4.26605 17.3281 7.78125C17.3281 9.09309 16.9287 10.3517 16.1728 11.4221C16.1051 11.5114 16.4585 10.9624 11 19.5276L5.9023 11.5287ZM11 22.5938C5.46903 22.5938 1.85938 20.968 1.85938 19.7812C1.85938 18.9836 3.71413 17.6721 7.82413 17.1609L10.407 21.2138C10.4705 21.3135 10.5582 21.3956 10.6618 21.4525C10.7654 21.5093 10.8817 21.5391 11 21.5391C11.1182 21.5391 11.2345 21.5093 11.3381 21.4525C11.4417 21.3956 11.5294 21.3135 11.5929 21.2138L14.1757 17.1609C18.2858 17.6721 20.1406 18.9836 20.1406 19.7812C20.1406 20.9579 16.5635 22.5938 11 22.5938Z" fill="white" />
                                    <path d="M11 4.26562C9.06148 4.26562 7.48438 5.84273 7.48438 7.78125C7.48438 9.71977 9.06148 11.2969 11 11.2969C12.9385 11.2969 14.5156 9.71977 14.5156 7.78125C14.5156 5.84273 12.9385 4.26562 11 4.26562ZM11 9.89062C9.83689 9.89062 8.89062 8.94436 8.89062 7.78125C8.89062 6.61814 9.83689 5.67188 11 5.67188C12.1631 5.67188 13.1094 6.61814 13.1094 7.78125C13.1094 8.94436 12.1631 9.89062 11 9.89062Z" fill="white" />
                                </svg>

                                Олимп​,ул. Раззакова 32, ​902 кабинет, 9 этаж
                            </p>

                            <div className='[&>iframe]:w-full [&>iframe]:h-[300px] [&>iframe]:rounded-3xl'>
                                <ReactMarkdown children={data.map} remarkPlugins={[remarkGfm]} rehypePlugins={[rehypeRaw]} />
                            </div>
                        </div>
                    </div>
                </div>

                <div className='flex items-center justify-between pt-[24px] border-t border-[#999999]'>
                    <a href="#" className='text-sm text-white'>Политика конфиденциальности</a>

                    <span className='text-sm text-white'>© 2016-2024 Kettik тур-оператор</span>
                </div>
            </div>
        </footer>
    )
}